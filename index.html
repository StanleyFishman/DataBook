<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>DataBook Landing</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg-light: #f7f8fa;
        --bg-muted: #f0f2f5;
        --text-main: #0c1a2a;
        --text-muted: #4f5f70;
        --accent: #0f62fe;
        --radius-lg: 32px;
        --radius-md: 20px;
        --radius-sm: 12px;
        --shadow-soft: 0 24px 48px rgba(12, 26, 42, 0.08);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        color: var(--text-main);
        background-color: #ffffff;
      }

      a {
        color: inherit;
        text-decoration: none;
      }

      img {
        max-width: 100%;
        display: block;
      }

      header {
        position: sticky;
        top: 0;
        z-index: 10;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(12px);
        border-bottom: 1px solid rgba(12, 26, 42, 0.05);
      }

      .container {
        width: min(1200px, calc(100% - 48px));
        margin: 0 auto;
      }

      .top-bar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 20px 0;
        gap: 24px;
      }

      .logo {
        font-weight: 700;
        font-size: 1.4rem;
        letter-spacing: -0.02em;
      }

      nav {
        display: flex;
        align-items: center;
        gap: 24px;
        flex-wrap: wrap;
      }

      nav a {
        font-weight: 500;
        font-size: 0.95rem;
        color: var(--text-muted);
        transition: color 0.2s ease;
      }

      nav a:hover,
      nav a:focus {
        color: var(--text-main);
      }

      .language-toggle {
        display: inline-flex;
        align-items: center;
        padding: 4px;
        border-radius: 999px;
        background: var(--bg-muted);
        gap: 4px;
      }

      .language-toggle button {
        border: none;
        background: transparent;
        padding: 6px 14px;
        border-radius: 999px;
        font-weight: 600;
        font-size: 0.85rem;
        color: var(--text-muted);
        cursor: pointer;
        transition: background 0.2s ease, color 0.2s ease;
      }

      .language-toggle button.active {
        background: #ffffff;
        color: var(--text-main);
        box-shadow: 0 6px 16px rgba(12, 26, 42, 0.12);
      }

      .hero-banner {
        position: relative;
      }

      .full-bleed-banner {
        width: 100%;
      }

      .full-bleed-banner img {
        display: block;
        width: 100%;
        height: auto;
      }

      .hero-heading {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: flex-end;
        justify-content: center;
        padding: 0 clamp(32px, 9vw, 184px) clamp(32px, 7vw, 104px);
        pointer-events: none;
      }

      .hero-heading .container {
        pointer-events: auto;
      }

      .hero-heading h1 {
        margin: 0;
        color: #ffffff;
        font-size: clamp(1.2rem, calc(7.76vw - 10.28px), 2.2667rem);
        line-height: 1.05;
        text-shadow: 0 12px 28px rgba(12, 26, 42, 0.45);
        white-space: pre-line;
      }

      @media (min-width: 600px) {
        .hero-heading h1 {
          font-size: clamp(2.2667rem, calc(3.022vw + 18.13px), 3.4rem);
        }
      }

      .hero-description {
        padding: clamp(20px, 6vw, 48px) 0 0;
      }

      .hero-description p {
        margin: 0;
        font-size: 1.1rem;
        color: var(--text-muted);
        line-height: 1.6;
      }

      .hero-cta {
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
      }

      .btn {
        padding: 14px 28px;
        border-radius: 999px;
        border: none;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
      }

      .btn-primary {
        background: var(--accent);
        color: #ffffff;
        box-shadow: 0 20px 30px rgba(15, 98, 254, 0.22);
      }

      .btn-ghost {
        background: transparent;
        color: var(--text-main);
      }

      .visually-hidden {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }

      .contact-modal[hidden] {
        display: none;
      }

      .contact-modal {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: clamp(24px, 6vw, 48px);
        background: rgba(12, 26, 42, 0.55);
        backdrop-filter: blur(8px);
        z-index: 1000;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.25s ease;
      }

      .contact-modal.is-visible {
        opacity: 1;
        pointer-events: auto;
      }

      .contact-modal__dialog {
        position: relative;
        width: min(520px, 100%);
        padding: clamp(24px, 4vw, 40px);
        border-radius: var(--radius-md);
        background: #ffffff;
        box-shadow: 0 32px 64px rgba(12, 26, 42, 0.25);
        text-align: center;
        display: grid;
        gap: 16px;
      }

      .contact-modal__title {
        margin: 0;
        font-size: clamp(1.4rem, 1.2rem + 0.5vw, 1.8rem);
      }

      .contact-modal__subtitle {
        margin: 0;
        color: var(--text-muted);
        font-size: 1rem;
        line-height: 1.5;
      }

      .contact-modal__phone {
        margin: 0;
        font-weight: 600;
        font-size: 1.05rem;
      }

      .contact-modal__phone a {
        color: var(--accent);
      }

      .contact-modal__qr-hint {
        margin: 0;
        color: var(--text-muted);
        font-size: 0.95rem;
      }

      .contact-modal__qr {
        margin: 0 auto;
        width: min(220px, 60%);
      }

      .contact-modal__close {
        position: absolute;
        top: 16px;
        right: 16px;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: none;
        background: var(--bg-muted);
        color: var(--text-main);
        font-size: 1.4rem;
        font-weight: 500;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        transition: background 0.2s ease, transform 0.2s ease;
      }

      .contact-modal__close:hover,
      .contact-modal__close:focus-visible {
        outline: none;
        background: rgba(15, 98, 254, 0.12);
        transform: translateY(-1px);
      }

      body.has-modal {
        overflow: hidden;
      }

      .hero-media {
        position: relative;
        min-height: 420px;
        border-radius: var(--radius-lg);
        overflow: hidden;
        box-shadow: var(--shadow-soft);
      }

      .hero-media img {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .clients-strip {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 24px;
        padding: 40px 0 80px;
      }

      .clients-strip .logo-tile {
        padding: 20px;
        border-radius: var(--radius-sm);
        background: var(--bg-light);
        text-align: center;
        font-weight: 600;
        color: var(--text-muted);
      }

      .reports-carousel {
        position: relative;
        padding: clamp(20px, 8vw, 30px) 0;
        background: transparent;
      }

      .reports-carousel .carousel-inner {
        width: min(1280px, calc(100% - 96px));
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        gap: 24px;
        color: var(--text-main);
      }

      .reports-carousel .carousel-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 16px;
      }

      .reports-carousel .carousel-header h2 {
        margin: 0;
        color: inherit;
      }

      .reports-carousel .carousel-description {
        max-width: 520px;
        margin: 0;
        color: var(--text-muted);
        font-size: 1.05rem;
      }

      .carousel-controls {
        display: inline-flex;
        gap: 12px;
      }

      .carousel-nav {
        width: 44px;
        height: 44px;
        border-radius: 50%;
        border: 1px solid rgba(12, 26, 42, 0.12);
        background: rgba(15, 98, 254, 0.12);
        color: var(--accent);
        font-size: 1.2rem;
        font-weight: 600;
        cursor: pointer;
        transition: background 0.2s ease, border-color 0.2s ease, transform 0.2s ease;
      }

      .carousel-nav:hover:not([disabled]),
      .carousel-nav:focus-visible:not([disabled]) {
        outline: none;
        background: rgba(15, 98, 254, 0.18);
        border-color: rgba(12, 26, 42, 0.22);
        transform: translateY(-2px);
      }

      .carousel-nav[disabled] {
        opacity: 0.35;
        cursor: default;
      }

      .carousel-window {
        position: relative;
        overflow: hidden;
        padding-bottom: 4px;
      }

      .carousel-track {
        display: grid;
        grid-auto-flow: column;
        grid-auto-columns: minmax(360px, 420px);
        gap: clamp(16px, 4vw, 32px);
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        scroll-behavior: smooth;
        padding-bottom: 12px;
        margin: 0;
        list-style: none;
        align-items: stretch;
      }

      .carousel-track::-webkit-scrollbar {
        display: none;
      }

      .carousel-track {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }

      .carousel-slide {
        scroll-snap-align: start;
        display: flex;
      }

      .report-cover {
        position: relative;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        gap: clamp(16px, 2vw, 20px);
        padding: clamp(28px, 3vw, 36px);
        min-height: 260px;
        height: 100%;
        border-radius: var(--radius-lg);
        background: linear-gradient(
          135deg,
          hsl(var(--cover-hue, 210), 75%, 48%),
          hsl(calc(var(--cover-hue, 210) + 35), 85%, 56%)
        );
        color: #ffffff;
        overflow: hidden;
        isolation: isolate;
      }

      .report-cover::after {
        content: "";
        position: absolute;
        inset: 0;
        background:
          radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.3), transparent 55%),
          linear-gradient(140deg, rgba(255, 255, 255, 0.18) 0%, transparent 55%);
        mix-blend-mode: screen;
        pointer-events: none;
        opacity: 0.65;
      }

      .report-tag {
        font-size: 0.8rem;
        font-weight: 600;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.8);
      }

      .report-cover h3 {
        margin: 0;
        font-size: clamp(1.2rem, 0.7rem + 1vw, 1.55rem);
        line-height: 1.25;
        max-width: 24ch;
      }

      .report-cover p {
        margin: 0;
        color: rgba(255, 255, 255, 0.85);
        max-width: 38ch;
      }

      .report-link {
        align-self: flex-start;
        border: 1px solid rgba(255, 255, 255, 0.5);
        border-radius: 999px;
        padding: 10px 22px;
        background: rgba(12, 26, 42, 0.25);
        color: #ffffff;
        font-weight: 600;
        font-size: 0.95rem;
        cursor: pointer;
        transition: background 0.2s ease, transform 0.2s ease, border-color 0.2s ease;
        backdrop-filter: blur(4px);
      }

      .report-link:hover,
      .report-link:focus-visible {
        outline: none;
        background: rgba(12, 26, 42, 0.4);
        border-color: rgba(255, 255, 255, 0.8);
        transform: translateY(-1px);
      }

      .eyebrow {
        font-weight: 600;
        color: var(--accent);
        text-transform: uppercase;
        letter-spacing: 0.08em;
        font-size: 0.8rem;
        margin-bottom: 16px;
        display: inline-block;
      }

      .section {
        padding: 25px 0;
      }

      .section-header {
        display: flex;
        justify-content: space-between;
        gap: 24px;
        margin-bottom: 40px;
        flex-wrap: wrap;
      }

      .section-header h2 {
        margin: 0;
        font-size: clamp(2rem, 2.2vw + 1rem, 2.8rem);
      }

      .section-header p {
        max-width: 480px;
        color: var(--text-muted);
        margin: 0;
      }

      .metrics-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 24px;
      }

      .metric-card {
        padding: 28px;
        border-radius: var(--radius-md);
        background: var(--bg-light);
      }

      .metric-card strong {
        font-size: 2.4rem;
        display: block;
        margin-bottom: 12px;
      }

      .metric-card p {
        margin: 0;
        color: var(--text-muted);
      }

      .steps {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 32px;
      }

      .step-card {
        padding: 28px;
        border-radius: var(--radius-md);
        background: #ffffff;
        box-shadow: var(--shadow-soft);
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .step-card span {
        font-weight: 600;
        color: var(--accent);
      }

      .step-card h3 {
        margin: 0;
        font-size: 1.4rem;
      }

      .step-card p {
        margin: 0;
        color: var(--text-muted);
      }

      .stories-grid {
        display: grid;
        gap: 24px;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      }

      .wall-grid {
        display: grid;
        gap: 24px;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      }

      .story-card {
        border-radius: var(--radius-md);
        overflow: hidden;
        background: #ffffff;
        box-shadow: var(--shadow-soft);
        display: flex;
        flex-direction: column;
      }

      .wall-card {
        border-radius: var(--radius-md);
        overflow: hidden;
        background: #ffffff;
        box-shadow: var(--shadow-soft);
        display: flex;
        flex-direction: column;
      }

      .story-visual {
        background: linear-gradient(135deg, rgba(15, 98, 254, 0.18), rgba(255, 171, 0, 0.18));
        aspect-ratio: 16 / 9;
        overflow: hidden;
      }

      .wall-visual {
        background: linear-gradient(135deg, rgba(15, 98, 254, 0.18), rgba(255, 171, 0, 0.18));
        aspect-ratio: 16 / 9;
        overflow: hidden;
      }

      .story-visual img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .wall-visual img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .story-content {
        padding: 24px;
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .wall-content {
        padding: 24px;
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .story-tag {
        font-size: 0.85rem;
        font-weight: 600;
        color: var(--accent);
      }

      .wall-tag {
        font-size: 0.85rem;
        font-weight: 600;
        color: var(--accent);
      }

      .story-title {
        font-size: 1.2rem;
        font-weight: 600;
      }

      .wall-title {
        font-size: 1.2rem;
        font-weight: 600;
      }

      .story-text {
        color: var(--text-muted);
        margin: 0;
      }

      .wall-text {
        color: var(--text-muted);
        margin: 0;
      }

      .cta-banner {
        margin-top: clamp(32px, 10vw, 72px);
        padding: 0 clamp(24px, 6vw, 72px);
        max-width: 800px;     /* ограничивает ширину блока */
        margin: clamp(32px, 10vw, 72px) auto 0; 
      }

      .cta-banner__content {
        background: #ffffff;
        border-radius: var(--radius-lg);
        box-shadow: var(--shadow-soft);
        padding: clamp(24px, 8vw, 10px) clamp(24px, 6vw, 10px);
      }

      .cta-section {
        text-align: center;
        display: grid;
        gap: 20px;
        justify-items: center;
      }

      .cta-section h2 {
        margin: 0;
        font-size: clamp(1.8rem, 1.8vw + 1rem, 2.3rem);
      }

      .cta-section p {
        max-width: 560px;
        margin: 0;
        color: var(--text-muted);
        font-size: 1.05rem;
      }

      footer {
        padding: 40px 0 60px;
        color: var(--text-muted);
      }

      footer .footer-inner {
        display: flex;
        flex-direction: column;
        gap: 12px;
        font-size: 0.9rem;
      }

      @media (max-width: 960px) {
        .hero-heading {
          padding: 0 clamp(24px, 7vw, 120px) clamp(24px, 8vw, 88px);
        }

        .section {
          padding: 15px 0;
        }

        .reports-carousel .carousel-inner {
          width: calc(100% - 48px);
        }

        .reports-carousel .carousel-header {
          flex-direction: column;
          align-items: flex-start;
          gap: 12px;
        }

        .carousel-controls {
          align-self: flex-end;
        }

        .carousel-track {
          grid-auto-columns: minmax(240px, 280px);
        }
      }

      @media (max-width: 850px) {
        .container {
          width: calc(100% - 32px);
        }

        .top-bar {
          flex-direction: row;
          align-items: center;
          justify-content: space-between;
          padding: 12px 0;
          gap: 12px;
        }

        nav {
          display: none;
        }

        .report-cover {
          gap: clamp(2px, 1vw, 4px);
        }

        .report-cover p {
          display: none;
        }

        .hero-heading {
          padding: 0 24px clamp(16px, 12vw, 56px);
        }

        .hero-heading h1 {
          font-size: clamp(1.6rem, 8vw, 2.6rem);
        }

        .hero-description {
          padding-top: clamp(24px, 9vw, 56px);
        }

        .cta-banner__content {
          padding: clamp(30px, 18vw, 30px) 0;
        }
      }

      .reveal-up {
        opacity: 0;
        transform: translateY(32px);
        transition: opacity 700ms ease, transform 700ms ease;
        transition-delay: var(--reveal-delay, 0ms);
        will-change: opacity, transform;
      }

      .reveal-up.is-visible {
        opacity: 1;
        transform: translateY(0);
      }

      .section,
.reports-carousel,
.hero-description,
.cta-banner {
  padding-top: calc(0.7 * var(--section-padding, 10px));
  padding-bottom: calc(0.7 * var(--section-padding, 10px));
}

      /*
        Дополнительно можно задать собственные задержки для сеток:
        .features .card { --reveal-delay: 0ms; }
        .features .card:nth-child(2) { --reveal-delay: 80ms; }
        .features .card:nth-child(3) { --reveal-delay: 160ms; }
      */
    </style>
  </head>
  <body>
    <header>
      <div class="container">
        <div class="top-bar">
          <div class="logo" data-i18n="logo">DataBook</div>
          <nav>
            <a href="#services" data-i18n="nav.services">Услуги</a>
            <a href="#research" data-i18n="nav.industries">Отрасли</a>
            <a href="#reports" data-i18n="nav.reports">Исследования</a>
            <a href="#stories" data-i18n="nav.cases">Кейсы</a>
            <a href="#wall" data-i18n="nav.team">Команда</a>
            <a href="#contact" data-i18n="nav.contact">Контакты</a>
          </nav>
          <div class="language-toggle" role="group" aria-label="Language switcher">
            <button type="button" data-lang="ru" class="active">Ru</button>
            <button type="button" data-lang="en">En</button>
          </div>
        </div>
      </div>
    </header>

    <main>
      <section class="hero-banner" aria-label="Intro banner">
        <div class="full-bleed-banner">
          <img src="assets/intro-banner.png" alt="" />
        </div>

        <div class="hero-heading">
          <div class="container">
            <!-- <p class="eyebrow" data-i18n="hero.eyebrow">Премиальный консалтинг</p> -->
            <h1 data-i18n="hero.title">
              Профессиональная помощь
              на каждом этапе
            </h1>
          </div>
        </div>
      </section>

      <section class="hero-description" id="services">
        <div class="container">
          <p data-i18n="hero.subtitle">
            Эксперты и аналитики DataBook помогут вам увидеть новые возможности,
            встроить цифровые решения в процессы и масштабировать развитие бизнеса.
          </p>
        </div>
      </section>

      <section class="section" id="stories">
        <div class="container">
          <div class="section-header">
            <!-- <div>
              <p class="eyebrow" data-i18n="stories.eyebrow">Реальные примеры.</p>
              <h2 data-i18n="stories.title">Кейсы клиентов</h2>
            </div> -->
            <!-- <p data-i18n="stories.subtitle">
              Мы работаем с компаниями из разных отраслей и делимся историями
              роста, трансформации и обучения команд.
            </p> -->
          </div>
          <div class="stories-grid">
            <article class="story-card">
              <div class="story-visual">
                <img src="assets/story-visual_1.png" alt="Графики с аналитикой данных" />
              </div>
              <div class="story-content">
                <span class="story-tag" data-i18n="stories.story1.tag">Аналитика</span>
                <div class="story-title" data-i18n="stories.story1.title">Реалистичное прогнозирование спроса</div>
                <p class="story-text" data-i18n="stories.story1.text">
                  Команда DataBook помогла ритейлеру внедрить модели прогнозирования и снизить издержки на 18%.
                </p>
              </div>
            </article>
            <article class="story-card">
              <div class="story-visual">
                <img src="assets/story-visual_2.png" alt="Команда специалистов за работой" />
              </div>
              <div class="story-content">
                <span class="story-tag" data-i18n="stories.story2.tag">Консалтинг</span>
                <div class="story-title" data-i18n="stories.story2.title">Мы знаем свою дело. И сделаем.</div>
                <p class="story-text" data-i18n="stories.story2.text">
                  Эксперты DataBook трансформировали процессы и повысили производительность отдела продаж.
                </p>
              </div>
            </article>
            <!-- <article class="story-card">
              <div class="story-visual"></div>
              <div class="story-content">
                <span class="story-tag" data-i18n="stories.story3.tag">Обучение</span>
                <div class="story-title" data-i18n="stories.story3.title">Семинары. Обучающие программы.</div>
                <p class="story-text" data-i18n="stories.story3.text">Обучающие треки помогли менеджерам внедрить культуру работы с данными.</p>
              </div>
            </article> -->
          </div>
        </div>
      </section>

      <div class="container clients-strip" id="research">
        <div class="logo-tile" data-i18n="clients.1">Маркетинговые исследования</div>
        <div class="logo-tile" data-i18n="clients.2">Финансовое моделирование</div>
        <div class="logo-tile" data-i18n="clients.3">Архитектура сделки</div>
        <div class="logo-tile" data-i18n="clients.4">Организация финансирования</div>
        <div class="logo-tile" data-i18n="clients.5">Сервьюерское сопровождение</div>
      </div>

      <section class="reports-carousel" id="reports" aria-labelledby="reports-heading">
        <div class="carousel-inner">
          <div class="carousel-header">
            <div>
              <!-- <p class="eyebrow" data-i18n="reports.eyebrow">Свежие отчеты</p> -->
              <h2 id="reports-heading" data-i18n="reports.title">Маркетинговые исследования DataBook</h2>
            </div>
            <div class="carousel-controls" aria-hidden="false">
              <button class="carousel-nav prev" type="button" aria-label="Предыдущий отчет">&#8592;</button>
              <button class="carousel-nav next" type="button" aria-label="Следующий отчет">&#8594;</button>
            </div>
          </div>
          <p class="carousel-description" data-i18n="reports.description">
            Выберите релевантные обзоры рынка и аналитические материалы — мы подготовим персонифицированное решение.
          </p>
          <div class="carousel-window">
            <div class="carousel-track">
              <article class="carousel-slide">
                <div class="report-cover" style="--cover-hue: 210">
                  <span class="report-tag" data-i18n="reports.slide1.tag">Компрессоры</span>
                  <h3 data-i18n="reports.slide1.title">РЫНОК КОМПРЕССОРНОГО ОБОРУДОВАНИЯ</h3>
                  <p data-i18n="reports.slide1.text">
                    Анализ инвестиционных программ ВИНКов и стратегий ключевых игроков. Глубокий разбор перспективных сегментов: от винтовых компрессоров для КИПиА до турбокомпрессоров большой мощности для МГ и НПЗ. Прогноз спроса до 2030 года.
                  </p>
                  <button class="report-link" type="button" data-i18n="reports.slideCta">Смотреть превью</button>
                </div>
              </article>
              <article class="carousel-slide">
                <div class="report-cover" style="--cover-hue: 170">
                  <span class="report-tag" data-i18n="reports.slide2.tag">Теплообмен</span>
                  <h3 data-i18n="reports.slide2.title">ТЕПЛООБМЕННОЕ ОБОРУДОВАНИЕ ДЛЯ НЕФТЕХИМИИ</h3>
                  <p data-i18n="reports.slide2.text">
                    Сценарии внедрения и оценка влияния новых экологических стандартов. Анализ трендов в материалах (дуплекс, хастелой) и конструкциях (паяные, спиральные). Ключевые инвестпроекты, формирующие спрос, и требования заказчиков.
                  </p>
                  <button class="report-link" type="button" data-i18n="reports.slideCta">Смотреть превью</button>
                </div>
              </article>
              <article class="carousel-slide">
                <div class="report-cover" style="--cover-hue: 25">
                  <span class="report-tag" data-i18n="reports.slide3.tag">Водоподготовка</span>
                  <h3 data-i18n="reports.slide3.title">ТЕХНОЛОГИИ ВОДОПОДГОТОВКИ ДЛЯ ПРОМЫШЛЕННОСТИ</h3>
                  <p data-i18n="reports.slide3.text">
                    Экономика перехода на замкнутый цикл водопользования. Сравнительный анализ технологий (ультрафильтрация, обратный осмос, озонирование). Обзор рынка, драйверы спроса со стороны ТЭК, металлургии и ХВП.
                  </p>
                  <button class="report-link" type="button" data-i18n="reports.slideCta">Смотреть превью</button>
                </div>
              </article>
              <article class="carousel-slide">
                <div class="report-cover" style="--cover-hue: 320">
                  <span class="report-tag" data-i18n="reports.slide4.tag">Энергетика</span>
                  <h3 data-i18n="reports.slide4.title">СИСТЕМЫ АВАРИЙНОГО ПИТАНИЯ (БАВР) ДЛЯ КРИТИЧЕСКОЙ ИНФРАСТРУКТУРЫ</h3>
                  <p data-i18n="reports.slide4.text">
                    Влияние новых требований Минпромторга на емкость рынка. Анализ объемов рынка с учетом модернизации генерирующих мощностей и данных о капитальном ремонте. Профили основных игроков и их производственные компетенции.
                  </p>
                  <button class="report-link" type="button" data-i18n="reports.slideCta">Смотреть превью</button>
                </div>
              </article>
              <article class="carousel-slide">
                <div class="report-cover" style="--cover-hue: 260">
                  <span class="report-tag" data-i18n="reports.slide5.tag">Газоразделение</span>
                  <h3 data-i18n="reports.slide5.title">ВОЗДУХОРАЗДЕЛИТЕЛЬНЫЕ УСТАНОВКИ (ВРУ)</h3>
                  <p data-i18n="reports.slide5.text">
                    Перспективы роста в связи с развитием ВИЭ и водородной энергетики. Оценка потребности в кислороде, азоте и аргоне для новых технологических цепочек. Анализ возможностей локализации производства крупнотоннажных ВРУ.
                  </p>
                  <button class="report-link" type="button" data-i18n="reports.slideCta">Смотреть превью</button>
                </div>
              </article>
              <article class="carousel-slide">
                <div class="report-cover" style="--cover-hue: 120">
                  <span class="report-tag" data-i18n="reports.slide6.tag">Арматура</span>
                  <h3 data-i18n="reports.slide6.title">ЗАПОРНАЯ АРМАТУРА ВЫСОКИХ КЛАССОВ</h3>
                  <p data-i18n="reports.slide6.text">
                    Риски и возможности импортозамещения в сегменте smart valves. Обзор объемов рынка с учетом данных о реализации инвестпроектов. Анализ потребности в средствах производства и сертификации для российских производителей.
                  </p>
                  <button class="report-link" type="button" data-i18n="reports.slideCta">Смотреть превью</button>
                </div>
              </article>
            </div>
          </div>
        </div>
      </section>

      <!-- <section class="section" id="cases">
        <div class="container">
          <div class="section-header">
            <div>
              <p class="eyebrow" data-i18n="metrics.eyebrow">Профессиональная помощь на каждом этапе.</p>
              <h2 data-i18n="metrics.title">Профессиональная помощь на каждом этапе.</h2>
            </div>
            <p data-i18n="metrics.subtitle">
              От первого знакомства с рынком до внедрения аналитических решений
              и сопровождения ваших команд — мы рядом, чтобы ускорить прогресс.
            </p>
          </div>
          <div class="metrics-grid">
            <div class="metric-card">
              <strong data-i18n="metrics.m1.value">250+</strong>
              <p data-i18n="metrics.m1.text">Клиентов доверяют DataBook по всему миру.</p>
            </div>
            <div class="metric-card">
              <strong data-i18n="metrics.m2.value">180</strong>
              <p data-i18n="metrics.m2.text">Исследований рынка и аналитических проектов ежегодно.</p>
            </div>
            <div class="metric-card">
              <strong data-i18n="metrics.m3.value">24/7</strong>
              <p data-i18n="metrics.m3.text">Поддержка команд и экспертов в режиме реального времени.</p>
            </div>
            <div class="metric-card">
              <strong data-i18n="metrics.m4.value">95%</strong>
              <p data-i18n="metrics.m4.text">Клиентов повторно обращаются за консультациями.</p>
            </div>
          </div>
        </div>
      </section> -->

      <!-- <section class="section" id="team" style="background:var(--bg-light);">
        <div class="container">
          <div class="section-header">
            <div>
              <p class="eyebrow" data-i18n="steps.eyebrow">Пошаговое сопровождение.</p>
              <h2 data-i18n="steps.title">Профессиональная помощь на каждом этапе.</h2>
            </div>
            <p data-i18n="steps.subtitle">
              Мы проектируем исследования, выстраиваем стратегии роста и обучаем
              команды так, чтобы знания закреплялись и приносили результаты.
            </p>
          </div>
          <div class="steps">
            <article class="step-card">
              <span data-i18n="steps.step1.badge">01</span>
              <h3 data-i18n="steps.step1.title">Обзор рынка</h3>
              <p data-i18n="steps.step1.text">Фокусируемся на конкурентной среде и ключевых трендах, чтобы вы приняли уверенное решение.</p>
            </article>
            <article class="step-card">
              <span data-i18n="steps.step2.badge">02</span>
              <h3 data-i18n="steps.step2.title">Стратегические исследования</h3>
              <p data-i18n="steps.step2.text">Формируем гипотезы, проверяем модели и предлагаем решения, основанные на данных.</p>
            </article>
            <article class="step-card">
              <span data-i18n="steps.step3.badge">03</span>
              <h3 data-i18n="steps.step3.title">Внедрение решений</h3>
              <p data-i18n="steps.step3.text">Организуем проектные команды, сопровождаем внедрение и обучаем персонал.</p>
            </article>
          </div>
        </div>
      </section> -->

            <section class="section" id="wall">
        <div class="container">
          <div class="section-header">
            <!-- <div>
              <p class="eyebrow" data-i18n="stories.eyebrow">Реальные примеры.</p>
              <h2 data-i18n="stories.title">Кейсы клиентов</h2>
            </div> -->
            <!-- <p data-i18n="stories.subtitle">
              Мы работаем с компаниями из разных отраслей и делимся историями
              роста, трансформации и обучения команд.
            </p> -->
          </div>
          <div class="wall-grid">
            <article class="wall-card">
              <div class="wall-visual">
                <img src="assets/story-visual_3.png" alt="Реальные люди. Профессиональная команда" />
              </div>
              <div class="wall-content">
                <!-- <span class="story-tag" data-i18n="stories.story1.tag">Аналитика</span> -->
                <div class="wall-title" data-i18n="stories.story3.title">Реальные люди легко и доступно</div>
                <p class="wall-text" data-i18n="stories.story3.text">
                  Команда DataBook помогла ритейлеру внедрить модели прогнозирования и снизить издержки на 18%.
                </p>
              </div>
            </article>
            <article class="wall-card">
              <div class="wall-visual">
                <img src="assets/story-visual_4.png" alt="Мы знаем свою дело. И ваше тоже" />
              </div>
              <div class="wall-content">
                <!-- <span class="story-tag" data-i18n="stories.story2.tag">Консалтинг</span> -->
                <div class="wall-title" data-i18n="stories.story4.title">Мы знаем свою дело. И ваше тоже</div>
                <p class="wall-text" data-i18n="stories.story4.text">
                  Эксперты DataBook трансформировали процессы и повысили производительность отдела продаж.
                </p>
              </div>
            </article>
            <article class="wall-card">
              <div class="wall-visual">
                <img src="assets/story-visual_5.png" alt="Семинары. Обучающие программы" />
              </div>
              <div class="wall-content">
                <!-- <span class="story-tag" data-i18n="stories.story2.tag">Консалтинг</span> -->
                <div class="wall-title" data-i18n="stories.story5.title">Семинары. Обучающие программы</div>
                <p class="wall-text" data-i18n="stories.story5.text">
                  Эксперты DataBook трансформировали процессы и повысили производительность отдела продаж.
                </p>
              </div>
            </article>
          </div>
        </div>
      </section>


      <section class="cta-banner" id="contact">
        <div class="cta-banner__content">
          <div class="container">
            <div class="cta-section">
              <h2 data-i18n="cta.title">Сделайте следующий шаг.</h2>
              <p data-i18n="cta.text">Обратитесь к эксперту DataBook — мы подготовим персонализированное решение для вашего бизнеса.</p>
              <button class="btn btn-primary" data-i18n="cta.cta">Связаться с экспертом</button>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <div class="container footer-inner">
        <strong data-i18n="footer.brand">DataBook</strong>
        <span data-i18n="footer.copyright">© 2025 DataBook. Все права защищены.</span>
      </div>
    </footer>

    <div class="contact-modal" id="contact-modal" role="dialog" aria-modal="true" aria-labelledby="contact-modal-title" aria-describedby="contact-modal-description" hidden>
      <div class="contact-modal__dialog">
        <button type="button" class="contact-modal__close" data-modal-close>
          <span aria-hidden="true">&times;</span>
          <span class="visually-hidden" data-i18n="modal.close">Закрыть окно</span>
        </button>
        <h2 class="contact-modal__title" id="contact-modal-title" data-i18n="modal.title">Свяжитесь с нами</h2>
        <p class="contact-modal__subtitle" id="contact-modal-description" data-i18n="modal.subtitle">Мы на связи каждый день.</p>
        <p class="contact-modal__phone">
          <span data-i18n="modal.phoneLabel">Телефон:</span>
          <a href="tel:+79177755938">8 (917) 77-55-938</a>
        </p>
        <img class="contact-modal__qr" src="assets/QR.png" alt="QR-код для связи через WhatsApp" loading="lazy" />
        <p class="contact-modal__qr-hint" data-i18n="modal.qrHint">Отсканируйте QR-код, чтобы написать нам в WhatsApp.</p>
      </div>
    </div>

    <script>
      const translations = {
        ru: {
          logo: "DataBook",
          "nav.services": "Услуги",
          "nav.industries": "Отрасли",
          "nav.reports": "Исследования",
          "nav.cases": "Кейсы",
          "nav.team": "Команда",
          "nav.contact": "Контакты",
          "hero.eyebrow": "Премиальный консалтинг",
          "hero.title": "Профессиональная помощь\nна каждом этапе",
          "hero.subtitle":
            "Эксперты и аналитики DataBook помогут вам увидеть новые возможности, встроить цифровые решения в процессы и масштабировать развитие бизнеса.",
          "hero.ctaPrimary": "Получить консультацию",
          "hero.ctaSecondary": "Посмотреть презентацию",
          "clients.1": "Маркетинговые исследования",
          "clients.2": "Финансовое моделирование",
          "clients.3": "Архитектура сделки",
          "clients.4": "Организация финансирования",
          "clients.5": "Сервьюерское сопровождение",
          "reports.eyebrow": "Свежие отчеты",
          "reports.title": "Маркетинговые исследования DataBook",
          "reports.description":
            "Выберите релевантные обзоры рынка и аналитические материалы — мы подготовим персонифицированное решение.",
          "reports.slideCta": "Смотреть превью",
          "reports.slide1.tag": "Компрессоры",
          "reports.slide1.title": "РЫНОК КОМПРЕССОРНОГО ОБОРУДОВАНИЯ",
          "reports.slide1.text":
            "Анализ инвестиционных программ ВИНКов и стратегий ключевых игроков. Глубокий разбор перспективных сегментов: от винтовых компрессоров для КИПиА до турбокомпрессоров большой мощности для МГ и НПЗ. Прогноз спроса до 2030 года.",
          "reports.slide2.tag": "Теплообмен",
          "reports.slide2.title": "ТЕПЛООБМЕННОЕ ОБОРУДОВАНИЕ ДЛЯ НЕФТЕХИМИИ",
          "reports.slide2.text":
            "Сценарии внедрения и оценка влияния новых экологических стандартов. Анализ трендов в материалах (дуплекс, хастелой) и конструкциях (паяные, спиральные). Ключевые инвестпроекты, формирующие спрос, и требования заказчиков.",
          "reports.slide3.tag": "Водоподготовка",
          "reports.slide3.title": "ТЕХНОЛОГИИ ВОДОПОДГОТОВКИ ДЛЯ ПРОМЫШЛЕННОСТИ",
          "reports.slide3.text":
            "Экономика перехода на замкнутый цикл водопользования. Сравнительный анализ технологий (ультрафильтрация, обратный осмос, озонирование). Обзор рынка, драйверы спроса со стороны ТЭК, металлургии и ХВП.",
          "reports.slide4.tag": "Энергетика",
          "reports.slide4.title": "СИСТЕМЫ АВАРИЙНОГО ПИТАНИЯ (БАВР) ДЛЯ КРИТИЧЕСКОЙ ИНФРАСТРУКТУРЫ",
          "reports.slide4.text":
            "Влияние новых требований Минпромторга на емкость рынка. Анализ объемов рынка с учетом модернизации генерирующих мощностей и данных о капитальном ремонте. Профили основных игроков и их производственные компетенции.",
          "reports.slide5.tag": "Газоразделение",
          "reports.slide5.title": "ВОЗДУХОРАЗДЕЛИТЕЛЬНЫЕ УСТАНОВКИ (ВРУ)",
          "reports.slide5.text":
            "Перспективы роста в связи с развитием ВИЭ и водородной энергетики. Оценка потребности в кислороде, азоте и аргоне для новых технологических цепочек. Анализ возможностей локализации производства крупнотоннажных ВРУ.",
          "reports.slide6.tag": "Арматура",
          "reports.slide6.title": "ЗАПОРНАЯ АРМАТУРА ВЫСОКИХ КЛАССОВ",
          "reports.slide6.text":
            "Риски и возможности импортозамещения в сегменте smart valves. Обзор объемов рынка с учетом данных о реализации инвестпроектов. Анализ потребности в средствах производства и сертификации для российских производителей.",
          "metrics.eyebrow": "Профессиональная помощь на каждом этапе.",
          "metrics.title": "Профессиональная помощь на каждом этапе.",
          "metrics.subtitle":
            "От первого знакомства с рынком до внедрения аналитических решений и сопровождения ваших команд — мы рядом, чтобы ускорить прогресс.",
          "metrics.m1.value": "250+",
          "metrics.m1.text": "Клиентов доверяют DataBook по всему миру.",
          "metrics.m2.value": "180",
          "metrics.m2.text": "Исследований рынка и аналитических проектов ежегодно.",
          "metrics.m3.value": "24/7",
          "metrics.m3.text": "Поддержка команд и экспертов в режиме реального времени.",
          "metrics.m4.value": "95%",
          "metrics.m4.text": "Клиентов повторно обращаются за консультациями.",
          "steps.eyebrow": "Пошаговое сопровождение.",
          "steps.title": "Профессиональная помощь на каждом этапе.",
          "steps.subtitle":
            "Мы проектируем исследования, выстраиваем стратегии роста и обучаем команды так, чтобы знания закреплялись и приносили результаты.",
          "steps.step1.badge": "01",
          "steps.step1.title": "Обзор рынка",
          "steps.step1.text":
            "Фокусируемся на конкурентной среде и ключевых трендах, чтобы вы приняли уверенное решение.",
          "steps.step2.badge": "02",
          "steps.step2.title": "Стратегические исследования",
          "steps.step2.text":
            "Формируем гипотезы, проверяем модели и предлагаем решения, основанные на данных.",
          "steps.step3.badge": "03",
          "steps.step3.title": "Внедрение решений",
          "steps.step3.text":
            "Организуем проектные команды, сопровождаем внедрение и обучаем персонал.",
          "stories.eyebrow": "Реальные примеры.",
          "stories.title": "Кейсы клиентов",
          "stories.subtitle":
            "Мы работаем с компаниями из разных отраслей и делимся историями роста, трансформации и обучения команд.",
          "stories.story1.tag": "Аналитика",
          "stories.story1.title": "Будущее бизнеса начинается с видения",
          "stories.story1.text":
            "Узнайте, как новейшие инструменты DataBook помогут вам вывести бизнес на новый уровень",
          "stories.story2.tag": "Консалтинг",
          "stories.story2.title": "DataBook помогает расти, развиваться и инвестировать",
          "stories.story2.text":
            "Команда DataBook поможет вам найти эффективные решения для вашего бизнеса, независимо от того, начинаете ли вы свой бизнес, развиваетесь или инвестируете в новые проекты",
          "stories.story3.tag": "Обучение",
          "stories.story3.title": "Реальные люди. Профессиональная команда",
          "stories.story3.text":
            "Мы объединяем экспертов, знания и технологии, чтобы находить лучшие решения для вашего бизнеса",
          "stories.story4.tag": "Training",
          "stories.story4.title": "Мы знаем свое дело. И ваше тоже",
          "stories.story4.text":
            "Мы говорим на языке бизнеса и технологий, соединяя их в результат",
          "stories.story5.tag": "Training",
          "stories.story5.title": "Семинары. Обучающие программы",
          "stories.story5.text":
            "Знания и навыки, нетворкинг и форсайты",
          "cta.title": "Сделайте следующий шаг.",
          "cta.text":
            "Обратитесь к эксперту DataBook — мы подготовим персонализированное решение для вашего бизнеса.",
          "cta.cta": "Связаться с экспертом",
          "modal.title": "Свяжитесь с нами",
          "modal.subtitle": "Мы на связи каждый день.",
          "modal.phoneLabel": "Телефон:",
          "modal.qrHint": "Отсканируйте QR-код, чтобы написать нам в WhatsApp.",
          "modal.close": "Закрыть окно",
          "footer.brand": "DataBook",
          "footer.copyright": "© 2025 DataBook. Все права защищены."
        },
        en: {
          logo: "DataBook",
          "nav.services": "Services",
          "nav.industries": "Industries",
          "nav.reports": "Research",
          "nav.cases": "Case studies",
          "nav.team": "Team",
          "nav.contact": "Contact",
          "hero.eyebrow": "Premium consulting",
          "hero.title": "Professional support\nat every stage",
          "hero.subtitle":
            "DataBook experts and analysts will help you uncover new opportunities, embed digital solutions into your processes, and scale business growth.",
          "hero.ctaPrimary": "Request a consultation",
          "hero.ctaSecondary": "View presentation",
          "clients.1": "Market overviews",
          "clients.2": "Digital technologies & AI",
          "clients.3": "Marketing research",
          "clients.4": "Financial modelling",
          "clients.5": "Financing arrangements",
          "reports.eyebrow": "Latest reports",
          "reports.title": "Current research from DataBook",
          "reports.description":
            "Select the most relevant market overviews and analytical materials — we've curated highlights across key industries.",
          "reports.slideCta": "View preview",
          "reports.slide1.tag": "Compressors",
          "reports.slide1.title": "Compressor equipment market",
          "reports.slide1.text":
            "Analysis of investment programs of major oil and gas holdings and strategies of leading OEMs. Deep dive into promising segments from instrumentation screw compressors to large-scale turbocompressors for trunk pipelines and refineries. Demand outlook through 2030.",
          "reports.slide2.tag": "Heat exchange",
          "reports.slide2.title": "Heat exchangers for petrochemicals",
          "reports.slide2.text":
            "Deployment scenarios and assessment of the impact of new environmental standards. Trends in materials (duplex, Hastelloy) and designs (brazed, spiral). Key investment projects driving demand and evolving customer requirements.",
          "reports.slide3.tag": "Water treatment",
          "reports.slide3.title": "Industrial water treatment technologies",
          "reports.slide3.text":
            "Economics of transitioning to closed-loop water use. Comparative analysis of ultrafiltration, reverse osmosis, and ozonation. Market overview with demand drivers from the fuel and energy sector, metallurgy, and food processing.",
          "reports.slide4.tag": "Backup power",
          "reports.slide4.title": "Emergency power systems for critical infrastructure",
          "reports.slide4.text":
            "Impact of new Ministry of Industry requirements on market capacity. Market sizing considering generation upgrades and major overhaul data. Profiles of key vendors and their manufacturing capabilities.",
          "reports.slide5.tag": "Air separation",
          "reports.slide5.title": "Air separation units",
          "reports.slide5.text":
            "Growth prospects driven by renewables and hydrogen energy. Assessment of oxygen, nitrogen, and argon needs for new value chains. Analysis of localization potential for large-capacity ASUs.",
          "reports.slide6.tag": "High-class valves",
          "reports.slide6.title": "High-class shut-off valves",
          "reports.slide6.text":
            "Risks and opportunities of import substitution in the smart valves segment. Market sizing based on investment project execution. Analysis of production tooling and certification needs for domestic manufacturers.",
          "metrics.eyebrow": "Professional support at every stage.",
          "metrics.title": "Professional support at every stage.",
          "metrics.subtitle":
            "From the first look at the market to rolling out analytics solutions and supporting your teams — we're here to accelerate progress.",
          "metrics.m1.value": "250+",
          "metrics.m1.text": "Clients worldwide trust DataBook.",
          "metrics.m2.value": "180",
          "metrics.m2.text": "Market studies and analytics projects each year.",
          "metrics.m3.value": "24/7",
          "metrics.m3.text": "Real-time support from expert teams.",
          "metrics.m4.value": "95%",
          "metrics.m4.text": "Clients return for additional engagements.",
          "steps.eyebrow": "Step-by-step guidance.",
          "steps.title": "Professional support at every stage.",
          "steps.subtitle":
            "We design research programmes, build growth strategies, and train teams so knowledge sticks and drives results.",
          "steps.step1.badge": "01",
          "steps.step1.title": "Market overview",
          "steps.step1.text":
            "We focus on the competitive landscape and key trends so you can decide with confidence.",
          "steps.step2.badge": "02",
          "steps.step2.title": "Strategic research",
          "steps.step2.text":
            "We shape hypotheses, validate models, and recommend data-driven solutions.",
          "steps.step3.badge": "03",
          "steps.step3.title": "Solution implementation",
          "steps.step3.text":
            "We assemble project teams, oversee implementation, and upskill your staff.",
          "stories.eyebrow": "Real examples.",
          "stories.title": "Client case studies",
          "stories.subtitle":
            "We partner with companies across industries and share stories of growth, transformation, and team enablement.",
          "stories.story1.tag": "Analytics",
          "stories.story1.title": "The future of business starts with vision",
          "stories.story1.text":
            "See how the latest DataBook tools can take your business to the next level.",
          "stories.story2.tag": "Consulting",
          "stories.story2.title": "DataBook helps you grow, evolve, and invest",
          "stories.story2.text":
            "The DataBook team is ready to help you find the right solutions for your business — whether you're launching, scaling, or investing.",
          "stories.story3.tag": "Training",
          "stories.story3.title": "Real people. A professional team",
          "stories.story3.text":
            "We bring experts together to uncover the best answers for your business.",
          "stories.story4.tag": "Training",
          "stories.story4.title": "We know our business — and yours too",
          "stories.story4.text":
            "We speak the languages of business and technology, translating them into outcomes.",
          "stories.story5.tag": "Training",
          "stories.story5.title": "Workshops and learning programmes",
          "stories.story5.text":
            "Knowledge and skills that deliver a competitive edge.",
          "cta.title": "Take the next step.",
          "cta.text":
            "Reach out to a DataBook expert — we'll craft a tailored solution for your business.",
          "cta.cta": "Contact an expert",
          "modal.title": "Get in touch",
          "modal.subtitle": "We're available every day.",
          "modal.phoneLabel": "Phone:",
          "modal.qrHint": "Scan the QR code to message us on WhatsApp.",
          "modal.close": "Close window",
          "footer.brand": "DataBook",
          "footer.copyright": "© 2025 DataBook. All rights reserved."
        }
      };

      const toggleButtons = document.querySelectorAll(".language-toggle button");
      const translatable = document.querySelectorAll("[data-i18n]");

      function setLanguage(lang) {
        const dict = translations[lang];
        if (!dict) return;
        document.documentElement.lang = lang;
        translatable.forEach((node) => {
          const key = node.dataset.i18n;
          if (dict[key]) {
            node.textContent = dict[key];
          }
        });
        toggleButtons.forEach((btn) => {
          btn.classList.toggle("active", btn.dataset.lang === lang);
        });
        localStorage.setItem("databook-lang", lang);
      }

      toggleButtons.forEach((btn) => {
        btn.addEventListener("click", () => setLanguage(btn.dataset.lang));
      });

      const savedLang = localStorage.getItem("databook-lang") || "ru";
      setLanguage(savedLang);

      const contactModal = document.getElementById("contact-modal");
      let lastFocusedElement = null;

      const openContactModal = () => {
        if (!contactModal || !contactModal.hasAttribute("hidden")) {
          return;
        }
        lastFocusedElement =
          document.activeElement instanceof HTMLElement ? document.activeElement : null;
        contactModal.removeAttribute("hidden");
        window.requestAnimationFrame(() => {
          contactModal.classList.add("is-visible");
        });
        document.body.classList.add("has-modal");
        const closeButton = contactModal.querySelector("[data-modal-close]");
        if (closeButton instanceof HTMLElement) {
          closeButton.focus();
        }
      };

      const closeContactModal = () => {
        if (!contactModal || contactModal.hasAttribute("hidden")) {
          return;
        }
        contactModal.classList.remove("is-visible");
        const fallbackId = window.setTimeout(() => {
          if (contactModal && !contactModal.hasAttribute("hidden")) {
            contactModal.setAttribute("hidden", "");
            contactModal.removeEventListener("transitionend", onTransitionEnd);
          }
        }, 320);
        function onTransitionEnd(event) {
          if (event.target !== contactModal) {
            return;
          }
          window.clearTimeout(fallbackId);
          contactModal.setAttribute("hidden", "");
          contactModal.removeEventListener("transitionend", onTransitionEnd);
        }
        contactModal.addEventListener("transitionend", onTransitionEnd);
        document.body.classList.remove("has-modal");
        if (lastFocusedElement && typeof lastFocusedElement.focus === "function") {
          lastFocusedElement.focus();
        }
        lastFocusedElement = null;
      };

      if (contactModal) {
        contactModal.querySelectorAll("[data-modal-close]").forEach((btn) => {
          btn.addEventListener("click", (event) => {
            event.stopPropagation();
            closeContactModal();
          });
        });

        contactModal.addEventListener("click", (event) => {
          if (event.target === contactModal) {
            closeContactModal();
          }
        });
      }

      document.addEventListener("keydown", (event) => {
        if (event.key === "Escape") {
          closeContactModal();
        }
      });

      document.addEventListener("click", (event) => {
        const target = event.target;
        if (!(target instanceof Element)) {
          return;
        }
        if (!target.matches("button")) {
          return;
        }
        if (target.hasAttribute("data-modal-close")) {
          return;
        }
        if (contactModal && contactModal.contains(target)) {
          return;
        }
        openContactModal();
      });

      const initRevealAnimations = () => {
        const REVEAL_SELECTORS = [
          ".hero-copy > *",
          ".hero-media",
          ".clients-strip .logo-tile",
          ".reports-carousel .carousel-slide",
          ".metrics-grid .metric-card",
          ".steps .step-card",
          ".stories-grid .story-card",
          ".wall-grid .wall-card",
          ".cta-section",
        ];

        const targets = Array.from(
          new Set(
            REVEAL_SELECTORS.flatMap((selector) =>
              Array.from(document.querySelectorAll(selector))
            )
          )
        ).sort((a, b) => {
          if (a === b) {
            return 0;
          }
          const position = a.compareDocumentPosition(b);
          if (position & Node.DOCUMENT_POSITION_FOLLOWING) {
            return -1;
          }
          if (position & Node.DOCUMENT_POSITION_PRECEDING) {
            return 1;
          }
          return 0;
        });

        if (!targets.length) {
          return;
        }

        targets.forEach((el) => {
          if (!el.classList.contains("reveal-up")) {
            el.classList.add("reveal-up");
          }
        });

        const groups = new Map();
        targets.forEach((el) => {
          const parent = el.parentElement;
          if (!parent) {
            return;
          }
          if (!groups.has(parent)) {
            groups.set(parent, []);
          }
          groups.get(parent).push(el);
        });

        const STAGGER_STEP = 120;
        groups.forEach((group) => {
          group.forEach((el, index) => {
            const delay = index * STAGGER_STEP;
            el.style.setProperty("--reveal-delay", `${delay}ms`);
          });
        });

        if (!("IntersectionObserver" in window)) {
          targets.forEach((el) => el.classList.add("is-visible"));
          return;
        }

        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (!entry.isIntersecting) {
                return;
              }
              entry.target.classList.add("is-visible");
              observer.unobserve(entry.target);
            });
          },
          {
            root: null,
            threshold: 0.15,
            rootMargin: "0px 0px -40px 0px",
          }
        );

        targets.forEach((el) => observer.observe(el));
      };

      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", initRevealAnimations, {
          once: true,
        });
      } else {
        initRevealAnimations();
      }

      (() => {
        const root = document.querySelector(".reports-carousel");
        if (!root) {
          return;
        }

        const track = root.querySelector(".carousel-track");
        const prev = root.querySelector(".carousel-nav.prev");
        const next = root.querySelector(".carousel-nav.next");

        if (!track || !prev || !next) {
          return;
        }

        const getGap = () => {
          const style = window.getComputedStyle(track);
          const gapValue = style.columnGap || style.gap || "0";
          const parsed = parseFloat(gapValue);
          return Number.isNaN(parsed) ? 0 : parsed;
        };

        const getScrollAmount = () => {
          const firstSlide = track.querySelector(".carousel-slide");
          if (!firstSlide) {
            return track.clientWidth;
          }
          return firstSlide.getBoundingClientRect().width + getGap();
        };

        const updateNavState = () => {
          const maxScroll = track.scrollWidth - track.clientWidth;
          prev.disabled = track.scrollLeft <= 0;
          next.disabled = track.scrollLeft >= maxScroll - 1;
        };

        prev.addEventListener("click", () => {
          track.scrollBy({ left: -getScrollAmount(), behavior: "smooth" });
        });

        next.addEventListener("click", () => {
          track.scrollBy({ left: getScrollAmount(), behavior: "smooth" });
        });

        track.addEventListener("scroll", () => {
          window.requestAnimationFrame(updateNavState);
        });

        window.addEventListener("resize", () => {
          window.requestAnimationFrame(updateNavState);
        });

        updateNavState();
      })();
    </script>
  </body>
</html>
